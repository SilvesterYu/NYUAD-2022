global phase: 7π/8
                                                                  ┌───┐            ┌───┐                         ┌───┐                     ┌───┐                           ┌───┐             ┌───┐    ┌──────────┐   ┌───┐    ░       ┌─┐
      q_2 -> 0 ───────────────────────────────────────────────────┤ X ├─────■──────┤ X ├─────■────────────■──────┤ X ├──■────────────■─────┤ X ├──■─────────────────────■──┤ X ├──■──────────┤ X ├────┤ Rz(-π/4) ├───┤ X ├────░───────┤M├
                                           ┌───┐     ┌───┐        └─┬─┘   ┌─┴─┐    └─┬─┘   ┌─┴─┐        ┌─┴─┐    └─┬─┘┌─┴─┐        ┌─┴─┐   └─┬─┘┌─┴─┐     ┌─────────┐ ┌─┴─┐└─┬─┘┌─┴─┐        └─┬─┘    ├─────────┬┘   └─┬─┘    ░ ┌─┐   └╥┘
      q_1 -> 1 ────────────────────────────┤ X ├──■──┤ X ├──■───────■─────┤ X ├──────■─────┤ X ├──■─────┤ X ├──────■──┤ X ├──■─────┤ X ├─────■──┤ X ├──■──┤ Rz(π/4) ├─┤ X ├──■──┤ X ├──■───────■──────┤ Rz(π/4) ├──────■──────░─┤M├────╫─
               ┌─────────┐┌────┐┌─────────┐└─┬─┘┌─┴─┐└─┬─┘┌─┴─┐┌─────────┐├───┴┐┌─────────┐└───┘┌─┴─┐┌──┴───┴───┐     └───┘┌─┴─┐┌──┴───┴──┐     └───┘┌─┴─┐├─────────┴┐└───┘     └───┘┌─┴─┐┌──────────┐└──┬────┬─┘ ┌─────────┐ ░ └╥┘┌─┐ ║ 
      q_0 -> 2 ┤ Rz(π/2) ├┤ √X ├┤ Rz(π/2) ├──■──┤ X ├──■──┤ X ├┤ Rz(π/2) ├┤ √X ├┤ Rz(π/2) ├─────┤ X ├┤ Rz(-π/4) ├──────────┤ X ├┤ Rz(π/4) ├──────────┤ X ├┤ Rz(-π/4) ├───────────────┤ X ├┤ Rz(3π/4) ├───┤ √X ├───┤ Rz(π/2) ├─░──╫─┤M├─╫─
               └─────────┘└────┘└─────────┘     └───┘     └───┘└─────────┘└────┘└─────────┘     └───┘└──────────┘          └───┘└─────────┘          └───┘└──────────┘               └───┘└──────────┘   └────┘   └─────────┘ ░  ║ └╥┘ ║ 
ancilla_0 -> 3 ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────░──╫──╫──╫─
                                                                                                                                                                                                                              ░  ║  ║  ║ 
ancilla_1 -> 4 ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────░──╫──╫──╫─
                                                                                                                                                                                                                              ░  ║  ║  ║ 
       meas: 3/══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╩══╩══╩═
                                                                                                                                                                                                                                 0  1  2 